document.querySelector("button").addEventListener("click",function(e){var t,o,n=new Image;document.querySelector(".loader-content").classList.add("hide"),document.querySelector(".loader").classList.remove("hide"),t=(new Date).getTime(),console.log(t);var l="?nn="+t;n.src="https://upload.wikimedia.org/wikipedia/commons/3/3e/Tokyo_Sky_Tree_2012.JPG"+l,console.log(n),n.onload=function(){o=(new Date).getTime(),loadedBytes=65482992,totalSpeed=(loadedBytes/((o-t)/1e3)/1024/1024).toFixed(2);var n=0,l=function(){n<totalSpeed?(document.querySelector(".content").innerHTML=n.toFixed(2)+"<small>Mbps</small>",setTimeout(l,20),n+=1.02):document.querySelector(".content").innerHTML=totalSpeed+"<small>Mbps</small>"};l(),document.querySelector(".content").innerHTML=totalSpeed+"<small>Mbps</small>",document.querySelector(".loader-content").classList.remove("hide"),document.querySelector(".loader-content").classList.add("result"),document.querySelector(".loader").classList.add("hide"),document.querySelector(".content").classList.remove("hide"),e.target.innerText="CHECK AGAIN"}});